# Solejay's Blog

åŸºäº Astro å’Œ astro-pure ä¸»é¢˜æ„å»ºçš„ä¸ªäººåšå®¢ï¼Œæ”¯æŒåŒè¯­å†…å®¹ï¼Œé›†æˆåšå®¢åˆ†æå·¥å…·å’Œè‡ªåŠ¨åŒ–è„šæœ¬ã€‚

## ğŸ“‚ é¡¹ç›®ç›®å½•ç»“æ„

### å®Œæ•´ç›®å½•æ ‘

```
ğŸ“¦ blog/
â”œâ”€â”€ ğŸ“ astro.config.ts          # Astro æ¡†æ¶é…ç½®
â”œâ”€â”€ ğŸ“ uno.config.ts            # UnoCSS æ ·å¼é…ç½®
â”œâ”€â”€ ğŸ“ tsconfig.json            # TypeScript é…ç½®
â”œâ”€â”€ ğŸ“ package.json             # ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ ğŸ“ prettier.config.mjs      # Prettier ä»£ç æ ¼å¼åŒ–é…ç½®
â”œâ”€â”€ ğŸ“ eslint.config.mjs        # ESLint ä»£ç æ£€æŸ¥é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ src/                     # â­ ä¸»è¦æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ site.config.ts       # ğŸ¯ ç½‘ç«™é…ç½®ï¼ˆä¸»é¢˜ã€å¯¼èˆªã€é¡µè„šï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ content.config.ts    # ğŸ¯ å†…å®¹é›†åˆ Schema å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ content/             # ğŸ“ å†…å®¹é›†åˆç›®å½•
â”‚   â”‚   â”œâ”€â”€ blog/               # âœï¸ åšå®¢æ–‡ç« ï¼ˆMarkdown/MDX æ ¼å¼ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ post-name.md    # å•æ–‡ä»¶æ¨¡å¼æ–‡ç« 
â”‚   â”‚   â”‚   â””â”€â”€ post-folder/    # ç›®å½•æ¨¡å¼æ–‡ç« ï¼ˆæ¨èï¼‰
â”‚   â”‚   â”‚       â”œâ”€â”€ index.md    # æ–‡ç« å†…å®¹
â”‚   â”‚   â”‚       â””â”€â”€ images/     # æ–‡ç« èµ„æºï¼ˆå›¾ç‰‡ç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ docs/               # æ–‡æ¡£é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ pages/               # ğŸŒ åŸºäºæ–‡ä»¶çš„è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ index.astro         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ about/              # å…³äºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ blog/               # åšå®¢åˆ—è¡¨å’Œæ–‡ç« é¡µé¢
â”‚   â”‚   â”œâ”€â”€ archives/           # å½’æ¡£é¡µé¢
â”‚   â”‚   â”œâ”€â”€ tags/               # æ ‡ç­¾å’Œæ ‡ç­¾é¡µé¢
â”‚   â”‚   â”œâ”€â”€ projects/           # é¡¹ç›®å±•ç¤ºé¡µé¢
â”‚   â”‚   â”œâ”€â”€ links/              # å‹é“¾é¡µé¢
â”‚   â”‚   â”œâ”€â”€ search/             # æœç´¢é¡µé¢
â”‚   â”‚   â””â”€â”€ terms/              # æ¡æ¬¾é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ layouts/             # ğŸ¨ é¡µé¢å¸ƒå±€æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ BaseLayout.astro    # åŸºç¡€å¸ƒå±€åŒ…è£…å™¨
â”‚   â”‚   â”œâ”€â”€ BlogPost.astro      # åšå®¢æ–‡ç« å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ CommonPage.astro    # é€šç”¨é¡µé¢å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ ContentLayout.astro # å†…å®¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ IndividualPage.astro# ç‹¬ç«‹é¡µé¢å¸ƒå±€
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/          # ğŸ§© å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ about/              # å…³äºé¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ home/               # é¦–é¡µç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ links/              # å‹é“¾é¡µé¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ projects/           # é¡¹ç›®é¡µé¢ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ assets/              # ğŸ–¼ï¸ é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ styles/             # æ ·å¼è¡¨ï¼ˆCSSï¼‰
â”‚   â”‚   â”œâ”€â”€ icons/              # å›¾æ ‡æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ tools/              # å·¥å…· Logo å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ projects/           # é¡¹ç›®å›¾ç‰‡
â”‚   â”‚   â”œâ”€â”€ avatar.png          # å¤´åƒ
â”‚   â”‚   â””â”€â”€ *-qrcode.jpg        # äºŒç»´ç å›¾ç‰‡
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ plugins/             # ğŸ”Œ Astro æ’ä»¶
â”‚
â”œâ”€â”€ ğŸ“‚ public/                  # ğŸŒ å…¬å…±é™æ€æ–‡ä»¶ï¼ˆç›´æ¥æä¾›ï¼‰
â”‚   â”œâ”€â”€ favicon/                # ç½‘ç«™å›¾æ ‡
â”‚   â”œâ”€â”€ fonts/                  # ç½‘é¡µå­—ä½“
â”‚   â”œâ”€â”€ images/                 # å…¬å…±å›¾ç‰‡
â”‚   â”œâ”€â”€ scripts/                # å®¢æˆ·ç«¯è„šæœ¬
â”‚   â””â”€â”€ links.json              # å‹é“¾æ•°æ®é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ scripts/                 # ğŸ Python å·¥å…·è„šæœ¬
â”‚   â”œâ”€â”€ blog_analysis.py        # AI é©±åŠ¨çš„åšå®¢åˆ†æ
â”‚   â”œâ”€â”€ generate_new_post.py    # æ–°æ–‡ç« ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ generate_cover_image.py # å°é¢å›¾ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ integrate_analysis_to_about.py # åˆ†æç»“æœé›†æˆåˆ°å…³äºé¡µé¢
â”‚   â”œâ”€â”€ extract_chinese_chars.py # æå–ä¸­æ–‡å­—ç¬¦å·¥å…·
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â”œâ”€â”€ analyzers/              # åˆ†æå™¨æ¨¡å—
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ output/                 # åˆ†æè¾“å‡ºç»“æœ
â”‚
â”œâ”€â”€ ğŸ“‚ packages/                # ğŸ“¦ Monorepo åŒ…
â”‚   â””â”€â”€ pure/                   # astro-pure ä¸»é¢˜åŒ…
â”‚
â”œâ”€â”€ ğŸ“‚ preset/                  # ğŸ¨ é¢„è®¾é…ç½®å’Œæ¨¡æ¿
â”‚
â””â”€â”€ ğŸ“‚ dist/                    # ğŸš€ æ„å»ºè¾“å‡ºï¼ˆç”Ÿæˆçš„ï¼‰
```

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

| æ–‡ä»¶                      | ä½œç”¨                             | ä½•æ—¶ä¿®æ”¹                       |
| ------------------------- | -------------------------------- | ------------------------------ |
| `src/site.config.ts`    | ç½‘ç«™å…ƒæ•°æ®ã€å¯¼èˆªã€é¡µè„šã€ä¸»é¢˜è®¾ç½® | è‡ªå®šä¹‰ç½‘ç«™ä¿¡æ¯ã€èœå•ã€ç¤¾äº¤é“¾æ¥ |
| `src/content.config.ts` | å†…å®¹é›†åˆ Schemaï¼ˆåšå®¢ã€æ–‡æ¡£ï¼‰    | ä¿®æ”¹ frontmatter å­—æ®µå®šä¹‰      |
| `astro.config.ts`       | Astro æ¡†æ¶ã€é›†æˆã€Markdown æ’ä»¶  | æ·»åŠ é›†æˆã€é…ç½® Markdown å¤„ç†   |
| `uno.config.ts`         | UnoCSS æ ·å¼ã€è‡ªå®šä¹‰å·¥å…·ç±»ã€å­—ä½“  | æ·»åŠ è‡ªå®šä¹‰æ ·å¼ã€é¢œè‰²ã€å¿«æ·æ–¹å¼ |
| `package.json`          | ä¾èµ–åŒ…ã€è„šæœ¬å‘½ä»¤                 | æ·»åŠ åŒ…ã€ä¿®æ”¹å‘½ä»¤               |
| `public/links.json`     | å‹é“¾æ•°æ®                         | æ·»åŠ æˆ–ä¿®æ”¹å‹æƒ…é“¾æ¥             |

### å¿«é€Ÿä»»åŠ¡æŒ‡å—

| ä»»åŠ¡                       | ä½ç½®                            | å‘½ä»¤/æ“ä½œ                                                 |
| -------------------------- | ------------------------------- | --------------------------------------------------------- |
| âœï¸**å†™æ–°åšå®¢æ–‡ç« ** | `src/content/blog/`           | `python scripts/generate_new_post.py "æ ‡é¢˜" --mode dir` |
| ğŸ¨**è‡ªå®šä¹‰ç½‘ç«™ä¸»é¢˜** | `src/site.config.ts`          | ç¼–è¾‘ `theme` å¯¹è±¡                                       |
| ğŸ§­**ä¿®æ”¹å¯¼èˆªèœå•**   | `src/site.config.ts`          | ç¼–è¾‘ `nav` æ•°ç»„                                         |
| ğŸ“**ç¼–è¾‘å…³äºé¡µé¢**   | `src/pages/about/index.astro` | ç¼–è¾‘ Astro ç»„ä»¶                                           |
| ğŸ–¼ï¸**æ·»åŠ é¡¹ç›®å±•ç¤º** | `src/pages/projects/`         | æ·»åŠ åˆ°é¡¹ç›®åˆ—è¡¨                                            |
| ğŸ”—**ç®¡ç†å‹é“¾**       | `public/links.json`           | ç¼–è¾‘ JSON æ–‡ä»¶                                            |
| ğŸ¯**æ›´æ”¹é¦–é¡µå¸ƒå±€**   | `src/components/home/`        | ä¿®æ”¹é¦–é¡µç»„ä»¶                                              |
| ğŸ“Š**è¿è¡Œåšå®¢åˆ†æ**   | `scripts/`                    | `python blog_analysis.py`                               |
| ğŸ—ï¸**ç”Ÿäº§ç¯å¢ƒæ„å»º** | æ ¹ç›®å½•                          | `npm run build`                                         |
| ğŸš€**éƒ¨ç½²åˆ°æœåŠ¡å™¨**   | `dist/`                       | ä½¿ç”¨ rsync åŒæ­¥                                           |

### æ–‡ç« å†…å®¹ç»“æ„

åšå®¢æ–‡ç« æ”¯æŒä¸¤ç§æ ¼å¼ï¼š

1. **å•æ–‡ä»¶æ¨¡å¼**: `src/content/blog/my-post.md`
2. **ç›®å½•æ¨¡å¼**: `src/content/blog/my-post/index.md` ï¼ˆæ¨èï¼Œä¾¿äºç®¡ç†å›¾ç‰‡èµ„æºï¼‰

å¿…éœ€çš„ frontmatter å­—æ®µï¼š

```yaml
---
title: "æ–‡ç« æ ‡é¢˜"              # æœ€å¤š 60 å­—ç¬¦
description: "ç®€çŸ­æè¿°"        # æœ€å¤š 160 å­—ç¬¦
publishDate: 2025-01-01       # ISO æ—¥æœŸæ ¼å¼
tags: [æ ‡ç­¾1, æ ‡ç­¾2]          # å°å†™ï¼Œè‡ªåŠ¨å»é‡
heroImage:                    # å¯é€‰
  src: ./image.jpg
  alt: "å›¾ç‰‡æè¿°"
draft: false                  # é»˜è®¤: false
---
```

---

## âš¡ å¸¸ç”¨è„šæœ¬å‘½ä»¤

ç”Ÿæˆæ–‡ç« 

```bash
# åˆ›å»ºå•æ–‡ä»¶æ¨¡å¼
python scripts/generate_new_post.py "æˆ‘çš„æ–°æ–‡ç« " --mode file

# åˆ›å»ºç›®å½•æ¨¡å¼
python scripts/generate_new_post.py "æˆ‘çš„æ–°æ–‡ç« " --mode dir
```

# æ„å»ºå‘½ä»¤

```bash
# æœ¬åœ°è°ƒè¯•
npm run dev

# æœ¬åœ°æ„å»º
npm run build

# åŒæ­¥æ–‡ä»¶åˆ°æœåŠ¡å™¨
rsync -avuz --progress --delete -e 'ssh -p 1202' dist/ root@104.168.120.15:/opt/1panel/apps/openresty/openresty/www/sites/solejay.cn/index
```

# åšå®¢ä½¿ç”¨

[Astroåšå®¢ä½¿ç”¨](https://solejay.cn/blog/2025-08-15-astro%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/)
